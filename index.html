<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weihnachts-Wichteln</title>
    <!-- 1. Include Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 2. Include the MD5 hashing library (with cache-busting query) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.19.0/js/md5.min.js?v=2"></script>
    <style>
        /* Optional: Add a festive background color */
        body {
            background-color: #fcf0f0; /* A very light, festive red */
        }
    </style>
</head>
<body class="font-sans antialiased text-gray-800">

    <div class="container mx-auto flex items-center justify-center min-h-screen px-4">

        <div class="relative w-full max-w-md p-8 bg-white rounded-2xl shadow-2xl overflow-hidden">
            <!-- Festive decoration -->
            <div class="absolute top-0 right-0 -mt-4 -mr-4 w-20 h-20 rounded-full bg-red-600 flex items-center justify-center text-4xl shadow-lg">
                üéÅ
            </div>

            <h1 class="text-3xl font-bold text-center text-red-700 mb-4">
                Weihnachts-Wichteln
            </h1>
            
            <p class="text-center text-gray-600 mb-6">
                Gib deinen Vornamen ein, um zu sehen, wen du dieses Weihnachten beschenkst!
            </p>

            <!-- Input Form -->
            <div class="space-y-4">
                <div>
                    <label for="nameInput" class="block text-sm font-medium text-gray-700 sr-only">Dein Name</label>
                    <input type="text" id="nameInput" placeholder="Gib deinen Vornamen ein" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition">
                </div>
                
                <button id="drawButton" class="w-full bg-green-600 text-white p-3 rounded-lg font-semibold shadow-md hover:bg-green-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2">
                    Namen ziehen!
                </button>
            </div>

            <!-- Result Display Area -->
            <div id="resultDisplay" class="mt-8 text-center text-xl font-semibold h-20 flex items-center justify-center p-4 bg-gray-50 rounded-lg">
                <span class="text-gray-500">Dein Wichtel-Partner wird hier erscheinen...</span>
            </div>

        </div>

    </div>

    <script>
        // --- The Secret Sauce ---

        // The gift assignments (MD5 hashes of lowercase names as keys).
        // The assignment has been reshuffled and ensures no one draws themselves.
        const giftAssignments = {
            '5b1b4dee9103f759fdb57197a78780a6': 'Sarah',
            '8f5c853566391602f1a56b305e1d9cd5': 'Ricci',
            '9e9d7a08e048e9d604b79460b54969c3': 'Nadine',
            '083d2182dc8fdf0834b112256802ae2a': 'Diana',
            '3a23bb515e06d0e944ff916e79a7775c': 'Enrico'
        };

        // --- Page Logic ---

        const drawButton = document.getElementById('drawButton');
        const nameInput = document.getElementById('nameInput');
        const resultDisplay = document.getElementById('resultDisplay');

        // Function to handle the name drawing
        function drawName() {
            const inputName = nameInput.value.trim().toLowerCase();
            
            if (inputName === '') {
                resultDisplay.innerHTML = '<span class="text-red-600">Bitte gib einen Namen ein!</span>';
                return;
            }

            const nameHash = md5(inputName);
            const assignedPerson = giftAssignments[nameHash];

            if (assignedPerson) {
                resultDisplay.innerHTML = `
                    <span class="text-gray-700">Du beschenkst...</span>
                    <strong class="block text-3xl text-green-700 mt-1">${assignedPerson}</strong>
                `;
            } else {
                resultDisplay.innerHTML = '<span class="text-red-600">Name nicht gefunden. Bitte pr√ºfe die Schreibweise!</span>';
            }
        }

        // Add click listener to the button
        drawButton.addEventListener('click', drawName);

        // Allow pressing "Enter" in the input field
        nameInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                drawName();
            }
        });
    </script>

</body>
</html>
